name: k8s.deployment.create
description: creates a kubernetes deployment
inputs:
  sshUsername:
    string:
      constraints: { minLength: 1 }
      description: username for ssh auth w/ k8s master
  sshKey:
    string:
      constraints: { minLength: 1 }
      description: [private] key for ssh auth w/ k8s master
      isSecret: true
  hostname:
    string:
      constraints: { minLength: 1 }
      description: hostname of k8s master
  deployment:
    file:
      description: k8s deployment
  namespace:
    string:
      description: namespace of deployment
      default: default
run:
  container:
    image: { ref: 'alpine:3.6' }
    cmd: [ /cmd.sh ]
    files: { /cmd.sh, /kubectl, /deployment.yml: deployment }
    envVars:
      sshUsername:
      sshKey:
      hostname:
      deployment:
      namespace: